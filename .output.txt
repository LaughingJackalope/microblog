============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.2.0, pluggy-1.5.0
rootdir: /Users/mp/microblog/microblog-python, configfile: pytest.ini
plugins: asyncio-0.21.0, jaxtyping-0.3.3, mock-3.10.0, nbmake-1.4.3, anyio-4.8.0, cov-4.0.0, docker-3.1.1
asyncio: mode=Mode.AUTO
collected 29 items
tests/services/test_posts.py ...F.                                       [ 17%]
tests/test_posts.py ........F....                                        [ 62%]
tests/test_users.py ...........                                          [100%]
=================================== FAILURES ===================================
_____________________________ test_get_user_posts ______________________________
tests/services/test_posts.py:61: in test_get_user_posts
    assert posts[0].content == "Post 2"
E   AssertionError: assert 'Post 1' == 'Post 2'
E     - Post 2
E     ?      ^
E     + Post 1
E     ?      ^
---------------------------- Captured stdout setup -----------------------------
executing <function connect.<locals>.connector at 0x10beb8540>
operation <function connect.<locals>.connector at 0x10beb8540> completed
executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x10bc2ca90>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x10be8b6a0>, deterministic=True)
operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x10bc2ca90>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x10be8b6a0>, deterministic=True) completed
executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x10bc2ca90>, 'floor', 1, <built-in function floor>, deterministic=True)
operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x10bc2ca90>, 'floor', 1, <built-in function floor>, deterministic=True) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bc698c0>, 'PRAGMA read_uncommitted', [])
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bc698c0>, 'PRAGMA read_uncommitted', []) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bc698c0>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bc698c0>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bc698c0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bc698c0>) completed
executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bbdfa40>, 'PRAGMA foreign_keys=ON', [])
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bbdfa40>, 'PRAGMA foreign_keys=ON', []) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bbdfa40>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bbdfa40>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bbde040>, 'PRAGMA main.table_info("posts")', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bbde040>, 'PRAGMA main.table_info("posts")', ()) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bbde040>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bbde040>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bbde040>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bbde040>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bb7bf40>, 'PRAGMA temp.table_info("posts")', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bb7bf40>, 'PRAGMA temp.table_info("posts")', ()) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bb7bf40>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bb7bf40>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bb7bf40>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bb7bf40>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bb78f40>, 'PRAGMA main.table_info("followers")', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bb78f40>, 'PRAGMA main.table_info("followers")', ()) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bb78f40>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bb78f40>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bb78f40>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bb78f40>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bb7b540>, 'PRAGMA temp.table_info("followers")', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bb7b540>, 'PRAGMA temp.table_info("followers")', ()) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bb7b540>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bb7b540>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bb7b540>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bb7b540>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bb7b640>, 'PRAGMA main.table_info("users")', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bb7b640>, 'PRAGMA main.table_info("users")', ()) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bb7b640>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bb7b640>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bb7b640>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bb7b640>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9fa40>, 'PRAGMA temp.table_info("users")', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9fa40>, 'PRAGMA temp.table_info("users")', ()) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9fa40>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9fa40>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9fa40>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9fa40>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bcb2040>, '\nCREATE TABLE users (\n\tid VARCHAR(50) NOT NULL, \n\tusername VARCHAR(50) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\tpassword_hash VARCHAR(255) NOT NULL, \n\tdisplay_name VARCHAR(100), \n\tbio VARCHAR(250), \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bcb2040>, '\nCREATE TABLE users (\n\tid VARCHAR(50) NOT NULL, \n\tusername VARCHAR(50) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\tpassword_hash VARCHAR(255) NOT NULL, \n\tdisplay_name VARCHAR(100), \n\tbio VARCHAR(250), \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bcb2040>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bcb2040>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be4acc0>, 'CREATE UNIQUE INDEX ix_users_email ON users (email)', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be4acc0>, 'CREATE UNIQUE INDEX ix_users_email ON users (email)', ()) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be4acc0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be4acc0>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9db40>, 'CREATE UNIQUE INDEX ix_users_username ON users (username)', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9db40>, 'CREATE UNIQUE INDEX ix_users_username ON users (username)', ()) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9db40>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9db40>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bbdf8c0>, '\nCREATE TABLE posts (\n\tid VARCHAR(50) NOT NULL, \n\tcontent VARCHAR(280) NOT NULL, \n\tauthor_id VARCHAR(50) NOT NULL, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(author_id) REFERENCES users (id) ON DELETE CASCADE\n)\n\n', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bbdf8c0>, '\nCREATE TABLE posts (\n\tid VARCHAR(50) NOT NULL, \n\tcontent VARCHAR(280) NOT NULL, \n\tauthor_id VARCHAR(50) NOT NULL, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(author_id) REFERENCES users (id) ON DELETE CASCADE\n)\n\n', ()) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bbdf8c0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bbdf8c0>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be4ab40>, 'CREATE INDEX ix_posts_author_id ON posts (author_id)', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be4ab40>, 'CREATE INDEX ix_posts_author_id ON posts (author_id)', ()) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be4ab40>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be4ab40>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bcb1440>, '\nCREATE TABLE followers (\n\tfollower_id VARCHAR(50) NOT NULL, \n\tfollowed_id VARCHAR(50) NOT NULL, \n\tPRIMARY KEY (follower_id, followed_id), \n\tFOREIGN KEY(follower_id) REFERENCES users (id), \n\tFOREIGN KEY(followed_id) REFERENCES users (id)\n)\n\n', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bcb1440>, '\nCREATE TABLE followers (\n\tfollower_id VARCHAR(50) NOT NULL, \n\tfollowed_id VARCHAR(50) NOT NULL, \n\tPRIMARY KEY (follower_id, followed_id), \n\tFOREIGN KEY(follower_id) REFERENCES users (id), \n\tFOREIGN KEY(followed_id) REFERENCES users (id)\n)\n\n', ()) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bcb1440>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bcb1440>) completed
executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc2ca90>) completed
2026-01-20T22:22:34.639925Z [info     ] request_started                [app.middleware] app=microblog client_host=127.0.0.1 environment=development method=POST path=/v1/auth/register request_id=fb7d7b4e-0333-4478-8fe5-74e909c8a09c user_agent=python-httpx/0.28.1
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9d5c0>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.username = ?', ('testuser',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9d5c0>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.username = ?', ('testuser',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9d5c0>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9d5c0>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9d5c0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9d5c0>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed6240>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.email = ?', ('test@example.com',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed6240>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.email = ?', ('test@example.com',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed6240>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed6240>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed6240>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed6240>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4b40>, 'INSERT INTO users (id, username, email, password_hash, display_name, bio) VALUES (?, ?, ?, ?, ?, ?) RETURNING created_at', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c', 'testuser', 'test@example.com', '$2b$12$P9bA8puBVKSQ.M.WrwdZXefdpEX7ehmbEvOTsTTZZ2jhXnL26frYi', None, None))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4b40>, 'INSERT INTO users (id, username, email, password_hash, display_name, bio) VALUES (?, ?, ?, ?, ?, ?) RETURNING created_at', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c', 'testuser', 'test@example.com', '$2b$12$P9bA8puBVKSQ.M.WrwdZXefdpEX7ehmbEvOTsTTZZ2jhXnL26frYi', None, None)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed4b40>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed4b40>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4b40>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4b40>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4740>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4740>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed4740>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed4740>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4740>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4740>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed6ec0>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed6ec0>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed6ec0>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed6ec0>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed6ec0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed6ec0>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed6cc0>, 'SELECT count(posts.id) AS count_1 \nFROM posts \nWHERE posts.author_id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed6cc0>, 'SELECT count(posts.id) AS count_1 \nFROM posts \nWHERE posts.author_id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed6cc0>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed6cc0>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed6cc0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed6cc0>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bc68640>, 'SELECT count(followers.follower_id) AS count_1 \nFROM followers \nWHERE followers.followed_id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bc68640>, 'SELECT count(followers.follower_id) AS count_1 \nFROM followers \nWHERE followers.followed_id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bc68640>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bc68640>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bc68640>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bc68640>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bb79140>, 'SELECT count(followers.followed_id) AS count_1 \nFROM followers \nWHERE followers.follower_id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bb79140>, 'SELECT count(followers.followed_id) AS count_1 \nFROM followers \nWHERE followers.follower_id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bb79140>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bb79140>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bb79140>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bb79140>) completed
2026-01-20T22:22:34.877421Z [info     ] request_completed              [app.middleware] app=microblog duration_ms=237.39 environment=development method=POST path=/v1/auth/register request_id=fb7d7b4e-0333-4478-8fe5-74e909c8a09c status_code=201
HTTP Request: POST http://test/v1/auth/register "HTTP/1.1 201 Created"
2026-01-20T22:22:34.878104Z [info     ] request_started                [app.middleware] app=microblog client_host=127.0.0.1 environment=development method=POST path=/v1/auth/token request_id=223076b4-7abb-41f1-9efa-a482c6315377 user_agent=python-httpx/0.28.1
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9e540>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.username = ?', ('testuser',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9e540>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.username = ?', ('testuser',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9e540>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9e540>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9e540>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9e540>) completed
2026-01-20T22:22:35.105374Z [info     ] request_completed              [app.middleware] app=microblog duration_ms=227.18 environment=development method=POST path=/v1/auth/token request_id=223076b4-7abb-41f1-9efa-a482c6315377 status_code=200
HTTP Request: POST http://test/v1/auth/token "HTTP/1.1 200 OK"
------------------------------ Captured log setup ------------------------------
DEBUG    aiosqlite:core.py:62 executing <function connect.<locals>.connector at 0x10beb8540>
DEBUG    aiosqlite:core.py:67 operation <function connect.<locals>.connector at 0x10beb8540> completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x10bc2ca90>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x10be8b6a0>, deterministic=True)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x10bc2ca90>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x10be8b6a0>, deterministic=True) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x10bc2ca90>, 'floor', 1, <built-in function floor>, deterministic=True)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x10bc2ca90>, 'floor', 1, <built-in function floor>, deterministic=True) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bc698c0>, 'PRAGMA read_uncommitted', [])
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bc698c0>, 'PRAGMA read_uncommitted', []) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bc698c0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bc698c0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bc698c0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bc698c0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bbdfa40>, 'PRAGMA foreign_keys=ON', [])
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bbdfa40>, 'PRAGMA foreign_keys=ON', []) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bbdfa40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bbdfa40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bbde040>, 'PRAGMA main.table_info("posts")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bbde040>, 'PRAGMA main.table_info("posts")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bbde040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bbde040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bbde040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bbde040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bb7bf40>, 'PRAGMA temp.table_info("posts")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bb7bf40>, 'PRAGMA temp.table_info("posts")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bb7bf40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bb7bf40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bb7bf40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bb7bf40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bb78f40>, 'PRAGMA main.table_info("followers")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bb78f40>, 'PRAGMA main.table_info("followers")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bb78f40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bb78f40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bb78f40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bb78f40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bb7b540>, 'PRAGMA temp.table_info("followers")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bb7b540>, 'PRAGMA temp.table_info("followers")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bb7b540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bb7b540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bb7b540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bb7b540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bb7b640>, 'PRAGMA main.table_info("users")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bb7b640>, 'PRAGMA main.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bb7b640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bb7b640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bb7b640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bb7b640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9fa40>, 'PRAGMA temp.table_info("users")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9fa40>, 'PRAGMA temp.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9fa40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9fa40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9fa40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9fa40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bcb2040>, '\nCREATE TABLE users (\n\tid VARCHAR(50) NOT NULL, \n\tusername VARCHAR(50) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\tpassword_hash VARCHAR(255) NOT NULL, \n\tdisplay_name VARCHAR(100), \n\tbio VARCHAR(250), \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bcb2040>, '\nCREATE TABLE users (\n\tid VARCHAR(50) NOT NULL, \n\tusername VARCHAR(50) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\tpassword_hash VARCHAR(255) NOT NULL, \n\tdisplay_name VARCHAR(100), \n\tbio VARCHAR(250), \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bcb2040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bcb2040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be4acc0>, 'CREATE UNIQUE INDEX ix_users_email ON users (email)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be4acc0>, 'CREATE UNIQUE INDEX ix_users_email ON users (email)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be4acc0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be4acc0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9db40>, 'CREATE UNIQUE INDEX ix_users_username ON users (username)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9db40>, 'CREATE UNIQUE INDEX ix_users_username ON users (username)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9db40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9db40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bbdf8c0>, '\nCREATE TABLE posts (\n\tid VARCHAR(50) NOT NULL, \n\tcontent VARCHAR(280) NOT NULL, \n\tauthor_id VARCHAR(50) NOT NULL, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(author_id) REFERENCES users (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bbdf8c0>, '\nCREATE TABLE posts (\n\tid VARCHAR(50) NOT NULL, \n\tcontent VARCHAR(280) NOT NULL, \n\tauthor_id VARCHAR(50) NOT NULL, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(author_id) REFERENCES users (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bbdf8c0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bbdf8c0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be4ab40>, 'CREATE INDEX ix_posts_author_id ON posts (author_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be4ab40>, 'CREATE INDEX ix_posts_author_id ON posts (author_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be4ab40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be4ab40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bcb1440>, '\nCREATE TABLE followers (\n\tfollower_id VARCHAR(50) NOT NULL, \n\tfollowed_id VARCHAR(50) NOT NULL, \n\tPRIMARY KEY (follower_id, followed_id), \n\tFOREIGN KEY(follower_id) REFERENCES users (id), \n\tFOREIGN KEY(followed_id) REFERENCES users (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bcb1440>, '\nCREATE TABLE followers (\n\tfollower_id VARCHAR(50) NOT NULL, \n\tfollowed_id VARCHAR(50) NOT NULL, \n\tPRIMARY KEY (follower_id, followed_id), \n\tFOREIGN KEY(follower_id) REFERENCES users (id), \n\tFOREIGN KEY(followed_id) REFERENCES users (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bcb1440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bcb1440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc2ca90>) completed
INFO     app.middleware:middleware.py:44 2026-01-20T22:22:34.639925Z [info     ] request_started                [app.middleware] app=microblog client_host=127.0.0.1 environment=development method=POST path=/v1/auth/register request_id=fb7d7b4e-0333-4478-8fe5-74e909c8a09c user_agent=python-httpx/0.28.1
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9d5c0>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.username = ?', ('testuser',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9d5c0>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.username = ?', ('testuser',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9d5c0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9d5c0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9d5c0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9d5c0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed6240>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.email = ?', ('test@example.com',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed6240>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.email = ?', ('test@example.com',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed6240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed6240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed6240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed6240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4b40>, 'INSERT INTO users (id, username, email, password_hash, display_name, bio) VALUES (?, ?, ?, ?, ?, ?) RETURNING created_at', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c', 'testuser', 'test@example.com', '$2b$12$P9bA8puBVKSQ.M.WrwdZXefdpEX7ehmbEvOTsTTZZ2jhXnL26frYi', None, None))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4b40>, 'INSERT INTO users (id, username, email, password_hash, display_name, bio) VALUES (?, ?, ?, ?, ?, ?) RETURNING created_at', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c', 'testuser', 'test@example.com', '$2b$12$P9bA8puBVKSQ.M.WrwdZXefdpEX7ehmbEvOTsTTZZ2jhXnL26frYi', None, None)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed4b40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed4b40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4b40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4b40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4740>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4740>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed4740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed4740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed6ec0>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed6ec0>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed6ec0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed6ec0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed6ec0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed6ec0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed6cc0>, 'SELECT count(posts.id) AS count_1 \nFROM posts \nWHERE posts.author_id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed6cc0>, 'SELECT count(posts.id) AS count_1 \nFROM posts \nWHERE posts.author_id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed6cc0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed6cc0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed6cc0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed6cc0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bc68640>, 'SELECT count(followers.follower_id) AS count_1 \nFROM followers \nWHERE followers.followed_id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bc68640>, 'SELECT count(followers.follower_id) AS count_1 \nFROM followers \nWHERE followers.followed_id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bc68640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bc68640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bc68640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bc68640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bb79140>, 'SELECT count(followers.followed_id) AS count_1 \nFROM followers \nWHERE followers.follower_id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bb79140>, 'SELECT count(followers.followed_id) AS count_1 \nFROM followers \nWHERE followers.follower_id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bb79140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bb79140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bb79140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bb79140>) completed
INFO     app.middleware:middleware.py:64 2026-01-20T22:22:34.877421Z [info     ] request_completed              [app.middleware] app=microblog duration_ms=237.39 environment=development method=POST path=/v1/auth/register request_id=fb7d7b4e-0333-4478-8fe5-74e909c8a09c status_code=201
INFO     httpx:_client.py:1740 HTTP Request: POST http://test/v1/auth/register "HTTP/1.1 201 Created"
INFO     app.middleware:middleware.py:44 2026-01-20T22:22:34.878104Z [info     ] request_started                [app.middleware] app=microblog client_host=127.0.0.1 environment=development method=POST path=/v1/auth/token request_id=223076b4-7abb-41f1-9efa-a482c6315377 user_agent=python-httpx/0.28.1
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9e540>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.username = ?', ('testuser',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9e540>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.username = ?', ('testuser',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9e540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9e540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9e540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9e540>) completed
INFO     app.middleware:middleware.py:64 2026-01-20T22:22:35.105374Z [info     ] request_completed              [app.middleware] app=microblog duration_ms=227.18 environment=development method=POST path=/v1/auth/token request_id=223076b4-7abb-41f1-9efa-a482c6315377 status_code=200
INFO     httpx:_client.py:1740 HTTP Request: POST http://test/v1/auth/token "HTTP/1.1 200 OK"
----------------------------- Captured stdout call -----------------------------
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9eb40>, 'INSERT INTO posts (id, content, author_id) VALUES (?, ?, ?) RETURNING created_at', ('post_72f5f092-19e8-45ac-887e-8a7ddc09acb6', 'Post 1', 'user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c'))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9eb40>, 'INSERT INTO posts (id, content, author_id) VALUES (?, ?, ?) RETURNING created_at', ('post_72f5f092-19e8-45ac-887e-8a7ddc09acb6', 'Post 1', 'user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c')) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9eb40>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9eb40>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9eb40>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9eb40>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9e140>, 'SELECT posts.id \nFROM posts \nWHERE posts.id = ?', ('post_72f5f092-19e8-45ac-887e-8a7ddc09acb6',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9e140>, 'SELECT posts.id \nFROM posts \nWHERE posts.id = ?', ('post_72f5f092-19e8-45ac-887e-8a7ddc09acb6',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9e140>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9e140>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9e140>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9e140>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bbdd1c0>, 'SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.password_hash AS users_password_hash, users.display_name AS users_display_name, users.bio AS users_bio, users.created_at AS users_created_at \nFROM users \nWHERE users.id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bbdd1c0>, 'SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.password_hash AS users_password_hash, users.display_name AS users_display_name, users.bio AS users_bio, users.created_at AS users_created_at \nFROM users \nWHERE users.id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bbdd1c0>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bbdd1c0>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bbdd1c0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bbdd1c0>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bde8cc0>, 'INSERT INTO posts (id, content, author_id) VALUES (?, ?, ?) RETURNING created_at', ('post_0061a342-0207-477e-8d07-ef6fe27a764d', 'Post 2', 'user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c'))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bde8cc0>, 'INSERT INTO posts (id, content, author_id) VALUES (?, ?, ?) RETURNING created_at', ('post_0061a342-0207-477e-8d07-ef6fe27a764d', 'Post 2', 'user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c')) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bde8cc0>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bde8cc0>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bde8cc0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bde8cc0>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9ed40>, 'SELECT posts.id \nFROM posts \nWHERE posts.id = ?', ('post_0061a342-0207-477e-8d07-ef6fe27a764d',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9ed40>, 'SELECT posts.id \nFROM posts \nWHERE posts.id = ?', ('post_0061a342-0207-477e-8d07-ef6fe27a764d',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9ed40>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9ed40>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9ed40>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9ed40>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9f3c0>, 'SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.password_hash AS users_password_hash, users.display_name AS users_display_name, users.bio AS users_bio, users.created_at AS users_created_at \nFROM users \nWHERE users.id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9f3c0>, 'SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.password_hash AS users_password_hash, users.display_name AS users_display_name, users.bio AS users_bio, users.created_at AS users_created_at \nFROM users \nWHERE users.id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9f3c0>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9f3c0>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9f3c0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9f3c0>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bdeb8c0>, 'SELECT count(*) AS count_1 \nFROM posts \nWHERE posts.author_id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bdeb8c0>, 'SELECT count(*) AS count_1 \nFROM posts \nWHERE posts.author_id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bdeb8c0>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bdeb8c0>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bdeb8c0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bdeb8c0>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9c6c0>, 'SELECT posts.id, posts.content, posts.author_id, posts.created_at \nFROM posts \nWHERE posts.author_id = ? ORDER BY posts.created_at DESC, posts.id DESC\n LIMIT ? OFFSET ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c', 20, 0))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9c6c0>, 'SELECT posts.id, posts.content, posts.author_id, posts.created_at \nFROM posts \nWHERE posts.author_id = ? ORDER BY posts.created_at DESC, posts.id DESC\n LIMIT ? OFFSET ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c', 20, 0)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9c6c0>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9c6c0>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9c6c0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9c6c0>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9fcc0>, 'SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.password_hash AS users_password_hash, users.display_name AS users_display_name, users.bio AS users_bio, users.created_at AS users_created_at \nFROM users \nWHERE users.id IN (?)', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9fcc0>, 'SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.password_hash AS users_password_hash, users.display_name AS users_display_name, users.bio AS users_bio, users.created_at AS users_created_at \nFROM users \nWHERE users.id IN (?)', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9fcc0>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9fcc0>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9fcc0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9fcc0>) completed
------------------------------ Captured log call -------------------------------
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9eb40>, 'INSERT INTO posts (id, content, author_id) VALUES (?, ?, ?) RETURNING created_at', ('post_72f5f092-19e8-45ac-887e-8a7ddc09acb6', 'Post 1', 'user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9eb40>, 'INSERT INTO posts (id, content, author_id) VALUES (?, ?, ?) RETURNING created_at', ('post_72f5f092-19e8-45ac-887e-8a7ddc09acb6', 'Post 1', 'user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9eb40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9eb40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9eb40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9eb40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9e140>, 'SELECT posts.id \nFROM posts \nWHERE posts.id = ?', ('post_72f5f092-19e8-45ac-887e-8a7ddc09acb6',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9e140>, 'SELECT posts.id \nFROM posts \nWHERE posts.id = ?', ('post_72f5f092-19e8-45ac-887e-8a7ddc09acb6',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9e140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9e140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9e140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9e140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bbdd1c0>, 'SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.password_hash AS users_password_hash, users.display_name AS users_display_name, users.bio AS users_bio, users.created_at AS users_created_at \nFROM users \nWHERE users.id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bbdd1c0>, 'SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.password_hash AS users_password_hash, users.display_name AS users_display_name, users.bio AS users_bio, users.created_at AS users_created_at \nFROM users \nWHERE users.id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bbdd1c0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bbdd1c0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bbdd1c0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bbdd1c0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bde8cc0>, 'INSERT INTO posts (id, content, author_id) VALUES (?, ?, ?) RETURNING created_at', ('post_0061a342-0207-477e-8d07-ef6fe27a764d', 'Post 2', 'user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bde8cc0>, 'INSERT INTO posts (id, content, author_id) VALUES (?, ?, ?) RETURNING created_at', ('post_0061a342-0207-477e-8d07-ef6fe27a764d', 'Post 2', 'user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bde8cc0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bde8cc0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bde8cc0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bde8cc0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9ed40>, 'SELECT posts.id \nFROM posts \nWHERE posts.id = ?', ('post_0061a342-0207-477e-8d07-ef6fe27a764d',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9ed40>, 'SELECT posts.id \nFROM posts \nWHERE posts.id = ?', ('post_0061a342-0207-477e-8d07-ef6fe27a764d',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9ed40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9ed40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9ed40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9ed40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9f3c0>, 'SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.password_hash AS users_password_hash, users.display_name AS users_display_name, users.bio AS users_bio, users.created_at AS users_created_at \nFROM users \nWHERE users.id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9f3c0>, 'SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.password_hash AS users_password_hash, users.display_name AS users_display_name, users.bio AS users_bio, users.created_at AS users_created_at \nFROM users \nWHERE users.id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9f3c0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9f3c0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9f3c0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9f3c0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bdeb8c0>, 'SELECT count(*) AS count_1 \nFROM posts \nWHERE posts.author_id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bdeb8c0>, 'SELECT count(*) AS count_1 \nFROM posts \nWHERE posts.author_id = ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bdeb8c0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bdeb8c0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bdeb8c0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bdeb8c0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9c6c0>, 'SELECT posts.id, posts.content, posts.author_id, posts.created_at \nFROM posts \nWHERE posts.author_id = ? ORDER BY posts.created_at DESC, posts.id DESC\n LIMIT ? OFFSET ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c', 20, 0))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9c6c0>, 'SELECT posts.id, posts.content, posts.author_id, posts.created_at \nFROM posts \nWHERE posts.author_id = ? ORDER BY posts.created_at DESC, posts.id DESC\n LIMIT ? OFFSET ?', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c', 20, 0)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9c6c0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9c6c0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9c6c0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9c6c0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9fcc0>, 'SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.password_hash AS users_password_hash, users.display_name AS users_display_name, users.bio AS users_bio, users.created_at AS users_created_at \nFROM users \nWHERE users.id IN (?)', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10be9fcc0>, 'SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.password_hash AS users_password_hash, users.display_name AS users_display_name, users.bio AS users_bio, users.created_at AS users_created_at \nFROM users \nWHERE users.id IN (?)', ('user_d2bf03a4-5f1a-412b-8e1a-952078e0a23c',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9fcc0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10be9fcc0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9fcc0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10be9fcc0>) completed
--------------------------- Captured stdout teardown ---------------------------
executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4c40>, 'PRAGMA main.table_info("posts")', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4c40>, 'PRAGMA main.table_info("posts")', ()) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed4c40>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed4c40>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4c40>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4c40>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4640>, 'PRAGMA main.table_info("followers")', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4640>, 'PRAGMA main.table_info("followers")', ()) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed4640>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed4640>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4640>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4640>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4e40>, 'PRAGMA main.table_info("users")', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4e40>, 'PRAGMA main.table_info("users")', ()) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed4e40>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed4e40>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4e40>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4e40>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4dc0>, '\nDROP TABLE followers', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4dc0>, '\nDROP TABLE followers', ()) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4dc0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4dc0>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed5240>, '\nDROP TABLE posts', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed5240>, '\nDROP TABLE posts', ()) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed5240>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed5240>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4fc0>, '\nDROP TABLE users', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4fc0>, '\nDROP TABLE users', ()) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4fc0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4fc0>) completed
executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc2ca90>) completed
executing functools.partial(<built-in method close of sqlite3.Connection object at 0x10bc2ca90>)
operation functools.partial(<built-in method close of sqlite3.Connection object at 0x10bc2ca90>) completed
executing <function Connection.stop.<locals>.close_and_stop at 0x10be72480>
operation <function Connection.stop.<locals>.close_and_stop at 0x10be72480> completed
---------------------------- Captured log teardown -----------------------------
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4c40>, 'PRAGMA main.table_info("posts")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4c40>, 'PRAGMA main.table_info("posts")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed4c40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed4c40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4c40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4c40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4640>, 'PRAGMA main.table_info("followers")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4640>, 'PRAGMA main.table_info("followers")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed4640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed4640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4e40>, 'PRAGMA main.table_info("users")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4e40>, 'PRAGMA main.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed4e40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed4e40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4e40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4e40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4dc0>, '\nDROP TABLE followers', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4dc0>, '\nDROP TABLE followers', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4dc0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4dc0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed5240>, '\nDROP TABLE posts', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed5240>, '\nDROP TABLE posts', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed5240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed5240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4fc0>, '\nDROP TABLE users', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4fc0>, '\nDROP TABLE users', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4fc0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4fc0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Connection object at 0x10bc2ca90>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Connection object at 0x10bc2ca90>) completed
DEBUG    aiosqlite:core.py:62 executing <function Connection.stop.<locals>.close_and_stop at 0x10be72480>
DEBUG    aiosqlite:core.py:67 operation <function Connection.stop.<locals>.close_and_stop at 0x10be72480> completed
______________________ TestUserPosts.test_get_user_posts _______________________
tests/test_posts.py:153: in test_get_user_posts
    assert contents == ["Post 2", "Post 1", "Post 0"]
E   AssertionError: assert ['Post 0', 'Post 2', 'Post 1'] == ['Post 2', 'Post 1', 'Post 0']
E     At index 0 diff: 'Post 0' != 'Post 2'
E     Use -v to get more diff
---------------------------- Captured stdout setup -----------------------------
executing <function connect.<locals>.connector at 0x10bfda0c0>
operation <function connect.<locals>.connector at 0x10bfda0c0> completed
executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x10bc575b0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x10bfd9440>, deterministic=True)
operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x10bc575b0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x10bfd9440>, deterministic=True) completed
executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x10bc575b0>, 'floor', 1, <built-in function floor>, deterministic=True)
operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x10bc575b0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9dac0>, 'PRAGMA read_uncommitted', [])
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9dac0>, 'PRAGMA read_uncommitted', []) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9dac0>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9dac0>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9dac0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9dac0>) completed
executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9ef40>, 'PRAGMA foreign_keys=ON', [])
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9ef40>, 'PRAGMA foreign_keys=ON', []) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9ef40>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9ef40>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9ff40>, 'PRAGMA main.table_info("posts")', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9ff40>, 'PRAGMA main.table_info("posts")', ()) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9ff40>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9ff40>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9ff40>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9ff40>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9d540>, 'PRAGMA temp.table_info("posts")', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9d540>, 'PRAGMA temp.table_info("posts")', ()) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9d540>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9d540>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9d540>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9d540>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9e8c0>, 'PRAGMA main.table_info("followers")', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9e8c0>, 'PRAGMA main.table_info("followers")', ()) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9e8c0>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9e8c0>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9e8c0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9e8c0>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9eec0>, 'PRAGMA temp.table_info("followers")', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9eec0>, 'PRAGMA temp.table_info("followers")', ()) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9eec0>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9eec0>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9eec0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9eec0>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9ca40>, 'PRAGMA main.table_info("users")', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9ca40>, 'PRAGMA main.table_info("users")', ()) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9ca40>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9ca40>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9ca40>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9ca40>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9f340>, 'PRAGMA temp.table_info("users")', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9f340>, 'PRAGMA temp.table_info("users")', ()) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9f340>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9f340>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9f340>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9f340>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bb7a940>, '\nCREATE TABLE users (\n\tid VARCHAR(50) NOT NULL, \n\tusername VARCHAR(50) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\tpassword_hash VARCHAR(255) NOT NULL, \n\tdisplay_name VARCHAR(100), \n\tbio VARCHAR(250), \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bb7a940>, '\nCREATE TABLE users (\n\tid VARCHAR(50) NOT NULL, \n\tusername VARCHAR(50) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\tpassword_hash VARCHAR(255) NOT NULL, \n\tdisplay_name VARCHAR(100), \n\tbio VARCHAR(250), \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bb7a940>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bb7a940>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9f1c0>, 'CREATE UNIQUE INDEX ix_users_email ON users (email)', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9f1c0>, 'CREATE UNIQUE INDEX ix_users_email ON users (email)', ()) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9f1c0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9f1c0>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9fdc0>, 'CREATE UNIQUE INDEX ix_users_username ON users (username)', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9fdc0>, 'CREATE UNIQUE INDEX ix_users_username ON users (username)', ()) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9fdc0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9fdc0>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9f640>, '\nCREATE TABLE posts (\n\tid VARCHAR(50) NOT NULL, \n\tcontent VARCHAR(280) NOT NULL, \n\tauthor_id VARCHAR(50) NOT NULL, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(author_id) REFERENCES users (id) ON DELETE CASCADE\n)\n\n', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9f640>, '\nCREATE TABLE posts (\n\tid VARCHAR(50) NOT NULL, \n\tcontent VARCHAR(280) NOT NULL, \n\tauthor_id VARCHAR(50) NOT NULL, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(author_id) REFERENCES users (id) ON DELETE CASCADE\n)\n\n', ()) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9f640>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9f640>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9c340>, 'CREATE INDEX ix_posts_author_id ON posts (author_id)', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9c340>, 'CREATE INDEX ix_posts_author_id ON posts (author_id)', ()) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9c340>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9c340>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9e940>, '\nCREATE TABLE followers (\n\tfollower_id VARCHAR(50) NOT NULL, \n\tfollowed_id VARCHAR(50) NOT NULL, \n\tPRIMARY KEY (follower_id, followed_id), \n\tFOREIGN KEY(follower_id) REFERENCES users (id), \n\tFOREIGN KEY(followed_id) REFERENCES users (id)\n)\n\n', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9e940>, '\nCREATE TABLE followers (\n\tfollower_id VARCHAR(50) NOT NULL, \n\tfollowed_id VARCHAR(50) NOT NULL, \n\tPRIMARY KEY (follower_id, followed_id), \n\tFOREIGN KEY(follower_id) REFERENCES users (id), \n\tFOREIGN KEY(followed_id) REFERENCES users (id)\n)\n\n', ()) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9e940>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9e940>) completed
executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc575b0>) completed
2026-01-20T22:22:39.489373Z [info     ] request_started                [app.middleware] app=microblog client_host=127.0.0.1 environment=development method=POST path=/v1/auth/register request_id=46e45889-0a62-44ed-9c23-e3582f80e81f user_agent=python-httpx/0.28.1
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf44fc0>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.username = ?', ('testuser',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf44fc0>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.username = ?', ('testuser',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf44fc0>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf44fc0>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf44fc0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf44fc0>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcf240>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.email = ?', ('test@example.com',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcf240>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.email = ?', ('test@example.com',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcf240>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcf240>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcf240>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcf240>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcedc0>, 'INSERT INTO users (id, username, email, password_hash, display_name, bio) VALUES (?, ?, ?, ?, ?, ?) RETURNING created_at', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c', 'testuser', 'test@example.com', '$2b$12$/gyNRmakdLjx1Y2awtYF6O8p8OW.GNU5m8812h3HjQWD5svYPtFt.', None, None))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcedc0>, 'INSERT INTO users (id, username, email, password_hash, display_name, bio) VALUES (?, ?, ?, ?, ?, ?) RETURNING created_at', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c', 'testuser', 'test@example.com', '$2b$12$/gyNRmakdLjx1Y2awtYF6O8p8OW.GNU5m8812h3HjQWD5svYPtFt.', None, None)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcedc0>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcedc0>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcedc0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcedc0>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfce3c0>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfce3c0>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfce3c0>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfce3c0>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfce3c0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfce3c0>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfced40>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfced40>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfced40>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfced40>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfced40>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfced40>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcc540>, 'SELECT count(posts.id) AS count_1 \nFROM posts \nWHERE posts.author_id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcc540>, 'SELECT count(posts.id) AS count_1 \nFROM posts \nWHERE posts.author_id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcc540>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcc540>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcc540>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcc540>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcd9c0>, 'SELECT count(followers.follower_id) AS count_1 \nFROM followers \nWHERE followers.followed_id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcd9c0>, 'SELECT count(followers.follower_id) AS count_1 \nFROM followers \nWHERE followers.followed_id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcd9c0>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcd9c0>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcd9c0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcd9c0>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcf940>, 'SELECT count(followers.followed_id) AS count_1 \nFROM followers \nWHERE followers.follower_id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcf940>, 'SELECT count(followers.followed_id) AS count_1 \nFROM followers \nWHERE followers.follower_id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcf940>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcf940>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcf940>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcf940>) completed
2026-01-20T22:22:39.720776Z [info     ] request_completed              [app.middleware] app=microblog duration_ms=231.32 environment=development method=POST path=/v1/auth/register request_id=46e45889-0a62-44ed-9c23-e3582f80e81f status_code=201
HTTP Request: POST http://test/v1/auth/register "HTTP/1.1 201 Created"
2026-01-20T22:22:39.721497Z [info     ] request_started                [app.middleware] app=microblog client_host=127.0.0.1 environment=development method=POST path=/v1/auth/token request_id=9e514649-d879-44f2-bbb2-570be2cb84f2 user_agent=python-httpx/0.28.1
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcd3c0>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.username = ?', ('testuser',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcd3c0>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.username = ?', ('testuser',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcd3c0>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcd3c0>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcd3c0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcd3c0>) completed
2026-01-20T22:22:39.952065Z [info     ] request_completed              [app.middleware] app=microblog duration_ms=230.48 environment=development method=POST path=/v1/auth/token request_id=9e514649-d879-44f2-bbb2-570be2cb84f2 status_code=200
HTTP Request: POST http://test/v1/auth/token "HTTP/1.1 200 OK"
------------------------------ Captured log setup ------------------------------
DEBUG    aiosqlite:core.py:62 executing <function connect.<locals>.connector at 0x10bfda0c0>
DEBUG    aiosqlite:core.py:67 operation <function connect.<locals>.connector at 0x10bfda0c0> completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x10bc575b0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x10bfd9440>, deterministic=True)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x10bc575b0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x10bfd9440>, deterministic=True) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x10bc575b0>, 'floor', 1, <built-in function floor>, deterministic=True)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x10bc575b0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9dac0>, 'PRAGMA read_uncommitted', [])
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9dac0>, 'PRAGMA read_uncommitted', []) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9dac0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9dac0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9dac0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9dac0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9ef40>, 'PRAGMA foreign_keys=ON', [])
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9ef40>, 'PRAGMA foreign_keys=ON', []) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9ef40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9ef40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9ff40>, 'PRAGMA main.table_info("posts")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9ff40>, 'PRAGMA main.table_info("posts")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9ff40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9ff40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9ff40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9ff40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9d540>, 'PRAGMA temp.table_info("posts")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9d540>, 'PRAGMA temp.table_info("posts")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9d540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9d540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9d540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9d540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9e8c0>, 'PRAGMA main.table_info("followers")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9e8c0>, 'PRAGMA main.table_info("followers")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9e8c0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9e8c0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9e8c0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9e8c0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9eec0>, 'PRAGMA temp.table_info("followers")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9eec0>, 'PRAGMA temp.table_info("followers")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9eec0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9eec0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9eec0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9eec0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9ca40>, 'PRAGMA main.table_info("users")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9ca40>, 'PRAGMA main.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9ca40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9ca40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9ca40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9ca40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9f340>, 'PRAGMA temp.table_info("users")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9f340>, 'PRAGMA temp.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9f340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9f340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9f340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9f340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bb7a940>, '\nCREATE TABLE users (\n\tid VARCHAR(50) NOT NULL, \n\tusername VARCHAR(50) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\tpassword_hash VARCHAR(255) NOT NULL, \n\tdisplay_name VARCHAR(100), \n\tbio VARCHAR(250), \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bb7a940>, '\nCREATE TABLE users (\n\tid VARCHAR(50) NOT NULL, \n\tusername VARCHAR(50) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\tpassword_hash VARCHAR(255) NOT NULL, \n\tdisplay_name VARCHAR(100), \n\tbio VARCHAR(250), \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bb7a940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bb7a940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9f1c0>, 'CREATE UNIQUE INDEX ix_users_email ON users (email)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9f1c0>, 'CREATE UNIQUE INDEX ix_users_email ON users (email)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9f1c0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9f1c0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9fdc0>, 'CREATE UNIQUE INDEX ix_users_username ON users (username)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9fdc0>, 'CREATE UNIQUE INDEX ix_users_username ON users (username)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9fdc0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9fdc0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9f640>, '\nCREATE TABLE posts (\n\tid VARCHAR(50) NOT NULL, \n\tcontent VARCHAR(280) NOT NULL, \n\tauthor_id VARCHAR(50) NOT NULL, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(author_id) REFERENCES users (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9f640>, '\nCREATE TABLE posts (\n\tid VARCHAR(50) NOT NULL, \n\tcontent VARCHAR(280) NOT NULL, \n\tauthor_id VARCHAR(50) NOT NULL, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(author_id) REFERENCES users (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9f640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9f640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9c340>, 'CREATE INDEX ix_posts_author_id ON posts (author_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9c340>, 'CREATE INDEX ix_posts_author_id ON posts (author_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9c340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9c340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9e940>, '\nCREATE TABLE followers (\n\tfollower_id VARCHAR(50) NOT NULL, \n\tfollowed_id VARCHAR(50) NOT NULL, \n\tPRIMARY KEY (follower_id, followed_id), \n\tFOREIGN KEY(follower_id) REFERENCES users (id), \n\tFOREIGN KEY(followed_id) REFERENCES users (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9e940>, '\nCREATE TABLE followers (\n\tfollower_id VARCHAR(50) NOT NULL, \n\tfollowed_id VARCHAR(50) NOT NULL, \n\tPRIMARY KEY (follower_id, followed_id), \n\tFOREIGN KEY(follower_id) REFERENCES users (id), \n\tFOREIGN KEY(followed_id) REFERENCES users (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9e940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9e940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc575b0>) completed
INFO     app.middleware:middleware.py:44 2026-01-20T22:22:39.489373Z [info     ] request_started                [app.middleware] app=microblog client_host=127.0.0.1 environment=development method=POST path=/v1/auth/register request_id=46e45889-0a62-44ed-9c23-e3582f80e81f user_agent=python-httpx/0.28.1
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf44fc0>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.username = ?', ('testuser',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf44fc0>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.username = ?', ('testuser',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf44fc0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf44fc0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf44fc0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf44fc0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcf240>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.email = ?', ('test@example.com',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcf240>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.email = ?', ('test@example.com',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcf240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcf240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcf240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcf240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcedc0>, 'INSERT INTO users (id, username, email, password_hash, display_name, bio) VALUES (?, ?, ?, ?, ?, ?) RETURNING created_at', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c', 'testuser', 'test@example.com', '$2b$12$/gyNRmakdLjx1Y2awtYF6O8p8OW.GNU5m8812h3HjQWD5svYPtFt.', None, None))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcedc0>, 'INSERT INTO users (id, username, email, password_hash, display_name, bio) VALUES (?, ?, ?, ?, ?, ?) RETURNING created_at', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c', 'testuser', 'test@example.com', '$2b$12$/gyNRmakdLjx1Y2awtYF6O8p8OW.GNU5m8812h3HjQWD5svYPtFt.', None, None)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcedc0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcedc0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcedc0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcedc0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfce3c0>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfce3c0>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfce3c0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfce3c0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfce3c0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfce3c0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfced40>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfced40>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfced40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfced40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfced40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfced40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcc540>, 'SELECT count(posts.id) AS count_1 \nFROM posts \nWHERE posts.author_id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcc540>, 'SELECT count(posts.id) AS count_1 \nFROM posts \nWHERE posts.author_id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcc540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcc540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcc540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcc540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcd9c0>, 'SELECT count(followers.follower_id) AS count_1 \nFROM followers \nWHERE followers.followed_id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcd9c0>, 'SELECT count(followers.follower_id) AS count_1 \nFROM followers \nWHERE followers.followed_id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcd9c0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcd9c0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcd9c0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcd9c0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcf940>, 'SELECT count(followers.followed_id) AS count_1 \nFROM followers \nWHERE followers.follower_id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcf940>, 'SELECT count(followers.followed_id) AS count_1 \nFROM followers \nWHERE followers.follower_id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcf940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcf940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcf940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcf940>) completed
INFO     app.middleware:middleware.py:64 2026-01-20T22:22:39.720776Z [info     ] request_completed              [app.middleware] app=microblog duration_ms=231.32 environment=development method=POST path=/v1/auth/register request_id=46e45889-0a62-44ed-9c23-e3582f80e81f status_code=201
INFO     httpx:_client.py:1740 HTTP Request: POST http://test/v1/auth/register "HTTP/1.1 201 Created"
INFO     app.middleware:middleware.py:44 2026-01-20T22:22:39.721497Z [info     ] request_started                [app.middleware] app=microblog client_host=127.0.0.1 environment=development method=POST path=/v1/auth/token request_id=9e514649-d879-44f2-bbb2-570be2cb84f2 user_agent=python-httpx/0.28.1
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcd3c0>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.username = ?', ('testuser',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcd3c0>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.username = ?', ('testuser',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcd3c0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcd3c0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcd3c0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcd3c0>) completed
INFO     app.middleware:middleware.py:64 2026-01-20T22:22:39.952065Z [info     ] request_completed              [app.middleware] app=microblog duration_ms=230.48 environment=development method=POST path=/v1/auth/token request_id=9e514649-d879-44f2-bbb2-570be2cb84f2 status_code=200
INFO     httpx:_client.py:1740 HTTP Request: POST http://test/v1/auth/token "HTTP/1.1 200 OK"
----------------------------- Captured stdout call -----------------------------
2026-01-20T22:22:39.953167Z [info     ] request_started                [app.middleware] app=microblog client_host=127.0.0.1 environment=development method=POST path=/v1/posts request_id=eb045223-2ab5-4790-8ab3-048bf68f9d21 user_agent=python-httpx/0.28.1
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf6d940>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf6d940>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf6d940>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf6d940>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf6d940>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf6d940>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf6ee40>, 'INSERT INTO posts (id, content, author_id) VALUES (?, ?, ?) RETURNING created_at', ('post_c6c2a06a-e268-43c2-a383-0893a42a7374', 'Post 0', 'user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c'))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf6ee40>, 'INSERT INTO posts (id, content, author_id) VALUES (?, ?, ?) RETURNING created_at', ('post_c6c2a06a-e268-43c2-a383-0893a42a7374', 'Post 0', 'user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c')) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf6ee40>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf6ee40>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf6ee40>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf6ee40>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf443c0>, 'SELECT posts.id \nFROM posts \nWHERE posts.id = ?', ('post_c6c2a06a-e268-43c2-a383-0893a42a7374',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf443c0>, 'SELECT posts.id \nFROM posts \nWHERE posts.id = ?', ('post_c6c2a06a-e268-43c2-a383-0893a42a7374',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf443c0>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf443c0>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf443c0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf443c0>) completed
2026-01-20T22:22:39.956665Z [info     ] request_completed              [app.middleware] app=microblog duration_ms=3.41 environment=development method=POST path=/v1/posts request_id=eb045223-2ab5-4790-8ab3-048bf68f9d21 status_code=201
HTTP Request: POST http://test/v1/posts "HTTP/1.1 201 Created"
2026-01-20T22:22:39.957168Z [info     ] request_started                [app.middleware] app=microblog client_host=127.0.0.1 environment=development method=POST path=/v1/posts request_id=42712512-fb59-4666-a89b-2dd8256d352d user_agent=python-httpx/0.28.1
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf6eec0>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf6eec0>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf6eec0>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf6eec0>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf6eec0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf6eec0>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bff5b40>, 'INSERT INTO posts (id, content, author_id) VALUES (?, ?, ?) RETURNING created_at', ('post_25da3b1e-ed1e-4894-b7ba-9fc0fe9ae992', 'Post 1', 'user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c'))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bff5b40>, 'INSERT INTO posts (id, content, author_id) VALUES (?, ?, ?) RETURNING created_at', ('post_25da3b1e-ed1e-4894-b7ba-9fc0fe9ae992', 'Post 1', 'user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c')) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bff5b40>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bff5b40>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bff5b40>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bff5b40>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bff5ec0>, 'SELECT posts.id \nFROM posts \nWHERE posts.id = ?', ('post_25da3b1e-ed1e-4894-b7ba-9fc0fe9ae992',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bff5ec0>, 'SELECT posts.id \nFROM posts \nWHERE posts.id = ?', ('post_25da3b1e-ed1e-4894-b7ba-9fc0fe9ae992',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bff5ec0>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bff5ec0>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bff5ec0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bff5ec0>) completed
2026-01-20T22:22:39.959634Z [info     ] request_completed              [app.middleware] app=microblog duration_ms=2.4 environment=development method=POST path=/v1/posts request_id=42712512-fb59-4666-a89b-2dd8256d352d status_code=201
HTTP Request: POST http://test/v1/posts "HTTP/1.1 201 Created"
2026-01-20T22:22:39.960081Z [info     ] request_started                [app.middleware] app=microblog client_host=127.0.0.1 environment=development method=POST path=/v1/posts request_id=a8b8183a-9d9b-4b13-b856-0791ca8feebb user_agent=python-httpx/0.28.1
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9f9c0>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9f9c0>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9f9c0>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9f9c0>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9f9c0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9f9c0>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bff4c40>, 'INSERT INTO posts (id, content, author_id) VALUES (?, ?, ?) RETURNING created_at', ('post_741143c8-378b-4edd-b95a-77133058d988', 'Post 2', 'user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c'))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bff4c40>, 'INSERT INTO posts (id, content, author_id) VALUES (?, ?, ?) RETURNING created_at', ('post_741143c8-378b-4edd-b95a-77133058d988', 'Post 2', 'user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c')) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bff4c40>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bff4c40>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bff4c40>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bff4c40>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bff5a40>, 'SELECT posts.id \nFROM posts \nWHERE posts.id = ?', ('post_741143c8-378b-4edd-b95a-77133058d988',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bff5a40>, 'SELECT posts.id \nFROM posts \nWHERE posts.id = ?', ('post_741143c8-378b-4edd-b95a-77133058d988',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bff5a40>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bff5a40>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bff5a40>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bff5a40>) completed
2026-01-20T22:22:39.962550Z [info     ] request_completed              [app.middleware] app=microblog duration_ms=2.41 environment=development method=POST path=/v1/posts request_id=a8b8183a-9d9b-4b13-b856-0791ca8feebb status_code=201
HTTP Request: POST http://test/v1/posts "HTTP/1.1 201 Created"
2026-01-20T22:22:39.962988Z [info     ] request_started                [app.middleware] app=microblog client_host=127.0.0.1 environment=development method=GET path=/v1/posts/user/user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c request_id=7debdaef-dc45-4d1e-9f80-3f2310972e14 user_agent=python-httpx/0.28.1
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bff5840>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bff5840>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bff5840>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bff5840>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bff5840>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bff5840>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcf1c0>, 'SELECT count(*) AS count_1 \nFROM posts \nWHERE posts.author_id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcf1c0>, 'SELECT count(*) AS count_1 \nFROM posts \nWHERE posts.author_id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcf1c0>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcf1c0>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcf1c0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcf1c0>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bff4ac0>, 'SELECT posts.id, posts.content, posts.author_id, posts.created_at \nFROM posts \nWHERE posts.author_id = ? ORDER BY posts.created_at DESC, posts.id DESC\n LIMIT ? OFFSET ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c', 20, 0))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bff4ac0>, 'SELECT posts.id, posts.content, posts.author_id, posts.created_at \nFROM posts \nWHERE posts.author_id = ? ORDER BY posts.created_at DESC, posts.id DESC\n LIMIT ? OFFSET ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c', 20, 0)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bff4ac0>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bff4ac0>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bff4ac0>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bff4ac0>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4b40>, 'SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.password_hash AS users_password_hash, users.display_name AS users_display_name, users.bio AS users_bio, users.created_at AS users_created_at \nFROM users \nWHERE users.id IN (?)', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',))
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4b40>, 'SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.password_hash AS users_password_hash, users.display_name AS users_display_name, users.bio AS users_bio, users.created_at AS users_created_at \nFROM users \nWHERE users.id IN (?)', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',)) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed4b40>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed4b40>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4b40>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4b40>) completed
2026-01-20T22:22:39.966594Z [info     ] request_completed              [app.middleware] app=microblog duration_ms=3.55 environment=development method=GET path=/v1/posts/user/user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c request_id=7debdaef-dc45-4d1e-9f80-3f2310972e14 status_code=200
HTTP Request: GET http://test/v1/posts/user/user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c "HTTP/1.1 200 OK"
------------------------------ Captured log call -------------------------------
INFO     app.middleware:middleware.py:44 2026-01-20T22:22:39.953167Z [info     ] request_started                [app.middleware] app=microblog client_host=127.0.0.1 environment=development method=POST path=/v1/posts request_id=eb045223-2ab5-4790-8ab3-048bf68f9d21 user_agent=python-httpx/0.28.1
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf6d940>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf6d940>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf6d940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf6d940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf6d940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf6d940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf6ee40>, 'INSERT INTO posts (id, content, author_id) VALUES (?, ?, ?) RETURNING created_at', ('post_c6c2a06a-e268-43c2-a383-0893a42a7374', 'Post 0', 'user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf6ee40>, 'INSERT INTO posts (id, content, author_id) VALUES (?, ?, ?) RETURNING created_at', ('post_c6c2a06a-e268-43c2-a383-0893a42a7374', 'Post 0', 'user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf6ee40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf6ee40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf6ee40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf6ee40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf443c0>, 'SELECT posts.id \nFROM posts \nWHERE posts.id = ?', ('post_c6c2a06a-e268-43c2-a383-0893a42a7374',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf443c0>, 'SELECT posts.id \nFROM posts \nWHERE posts.id = ?', ('post_c6c2a06a-e268-43c2-a383-0893a42a7374',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf443c0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf443c0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf443c0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf443c0>) completed
INFO     app.middleware:middleware.py:64 2026-01-20T22:22:39.956665Z [info     ] request_completed              [app.middleware] app=microblog duration_ms=3.41 environment=development method=POST path=/v1/posts request_id=eb045223-2ab5-4790-8ab3-048bf68f9d21 status_code=201
INFO     httpx:_client.py:1740 HTTP Request: POST http://test/v1/posts "HTTP/1.1 201 Created"
INFO     app.middleware:middleware.py:44 2026-01-20T22:22:39.957168Z [info     ] request_started                [app.middleware] app=microblog client_host=127.0.0.1 environment=development method=POST path=/v1/posts request_id=42712512-fb59-4666-a89b-2dd8256d352d user_agent=python-httpx/0.28.1
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf6eec0>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf6eec0>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf6eec0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf6eec0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf6eec0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf6eec0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bff5b40>, 'INSERT INTO posts (id, content, author_id) VALUES (?, ?, ?) RETURNING created_at', ('post_25da3b1e-ed1e-4894-b7ba-9fc0fe9ae992', 'Post 1', 'user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bff5b40>, 'INSERT INTO posts (id, content, author_id) VALUES (?, ?, ?) RETURNING created_at', ('post_25da3b1e-ed1e-4894-b7ba-9fc0fe9ae992', 'Post 1', 'user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bff5b40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bff5b40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bff5b40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bff5b40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bff5ec0>, 'SELECT posts.id \nFROM posts \nWHERE posts.id = ?', ('post_25da3b1e-ed1e-4894-b7ba-9fc0fe9ae992',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bff5ec0>, 'SELECT posts.id \nFROM posts \nWHERE posts.id = ?', ('post_25da3b1e-ed1e-4894-b7ba-9fc0fe9ae992',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bff5ec0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bff5ec0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bff5ec0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bff5ec0>) completed
INFO     app.middleware:middleware.py:64 2026-01-20T22:22:39.959634Z [info     ] request_completed              [app.middleware] app=microblog duration_ms=2.4 environment=development method=POST path=/v1/posts request_id=42712512-fb59-4666-a89b-2dd8256d352d status_code=201
INFO     httpx:_client.py:1740 HTTP Request: POST http://test/v1/posts "HTTP/1.1 201 Created"
INFO     app.middleware:middleware.py:44 2026-01-20T22:22:39.960081Z [info     ] request_started                [app.middleware] app=microblog client_host=127.0.0.1 environment=development method=POST path=/v1/posts request_id=a8b8183a-9d9b-4b13-b856-0791ca8feebb user_agent=python-httpx/0.28.1
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9f9c0>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf9f9c0>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9f9c0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf9f9c0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9f9c0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf9f9c0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bff4c40>, 'INSERT INTO posts (id, content, author_id) VALUES (?, ?, ?) RETURNING created_at', ('post_741143c8-378b-4edd-b95a-77133058d988', 'Post 2', 'user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bff4c40>, 'INSERT INTO posts (id, content, author_id) VALUES (?, ?, ?) RETURNING created_at', ('post_741143c8-378b-4edd-b95a-77133058d988', 'Post 2', 'user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bff4c40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bff4c40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bff4c40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bff4c40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bff5a40>, 'SELECT posts.id \nFROM posts \nWHERE posts.id = ?', ('post_741143c8-378b-4edd-b95a-77133058d988',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bff5a40>, 'SELECT posts.id \nFROM posts \nWHERE posts.id = ?', ('post_741143c8-378b-4edd-b95a-77133058d988',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bff5a40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bff5a40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bff5a40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bff5a40>) completed
INFO     app.middleware:middleware.py:64 2026-01-20T22:22:39.962550Z [info     ] request_completed              [app.middleware] app=microblog duration_ms=2.41 environment=development method=POST path=/v1/posts request_id=a8b8183a-9d9b-4b13-b856-0791ca8feebb status_code=201
INFO     httpx:_client.py:1740 HTTP Request: POST http://test/v1/posts "HTTP/1.1 201 Created"
INFO     app.middleware:middleware.py:44 2026-01-20T22:22:39.962988Z [info     ] request_started                [app.middleware] app=microblog client_host=127.0.0.1 environment=development method=GET path=/v1/posts/user/user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c request_id=7debdaef-dc45-4d1e-9f80-3f2310972e14 user_agent=python-httpx/0.28.1
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bff5840>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bff5840>, 'SELECT users.id, users.username, users.email, users.password_hash, users.display_name, users.bio, users.created_at \nFROM users \nWHERE users.id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bff5840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bff5840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bff5840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bff5840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcf1c0>, 'SELECT count(*) AS count_1 \nFROM posts \nWHERE posts.author_id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcf1c0>, 'SELECT count(*) AS count_1 \nFROM posts \nWHERE posts.author_id = ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcf1c0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcf1c0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcf1c0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcf1c0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bff4ac0>, 'SELECT posts.id, posts.content, posts.author_id, posts.created_at \nFROM posts \nWHERE posts.author_id = ? ORDER BY posts.created_at DESC, posts.id DESC\n LIMIT ? OFFSET ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c', 20, 0))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bff4ac0>, 'SELECT posts.id, posts.content, posts.author_id, posts.created_at \nFROM posts \nWHERE posts.author_id = ? ORDER BY posts.created_at DESC, posts.id DESC\n LIMIT ? OFFSET ?', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c', 20, 0)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bff4ac0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bff4ac0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bff4ac0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bff4ac0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4b40>, 'SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.password_hash AS users_password_hash, users.display_name AS users_display_name, users.bio AS users_bio, users.created_at AS users_created_at \nFROM users \nWHERE users.id IN (?)', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bed4b40>, 'SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.password_hash AS users_password_hash, users.display_name AS users_display_name, users.bio AS users_bio, users.created_at AS users_created_at \nFROM users \nWHERE users.id IN (?)', ('user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c',)) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed4b40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bed4b40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4b40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bed4b40>) completed
INFO     app.middleware:middleware.py:64 2026-01-20T22:22:39.966594Z [info     ] request_completed              [app.middleware] app=microblog duration_ms=3.55 environment=development method=GET path=/v1/posts/user/user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c request_id=7debdaef-dc45-4d1e-9f80-3f2310972e14 status_code=200
INFO     httpx:_client.py:1740 HTTP Request: GET http://test/v1/posts/user/user_1f9174e1-4b23-46f5-a1bb-bcead32feb5c "HTTP/1.1 200 OK"
--------------------------- Captured stdout teardown ---------------------------
executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcf140>, 'PRAGMA main.table_info("posts")', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcf140>, 'PRAGMA main.table_info("posts")', ()) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcf140>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcf140>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcf140>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcf140>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf47140>, 'PRAGMA main.table_info("followers")', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf47140>, 'PRAGMA main.table_info("followers")', ()) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf47140>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf47140>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf47140>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf47140>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf6f940>, 'PRAGMA main.table_info("users")', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf6f940>, 'PRAGMA main.table_info("users")', ()) completed
executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf6f940>)
operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf6f940>) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf6f940>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf6f940>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf6f140>, '\nDROP TABLE followers', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf6f140>, '\nDROP TABLE followers', ()) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf6f140>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf6f140>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfce040>, '\nDROP TABLE posts', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfce040>, '\nDROP TABLE posts', ()) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfce040>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfce040>) completed
executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcf540>, '\nDROP TABLE users', ())
operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcf540>, '\nDROP TABLE users', ()) completed
executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcf540>)
operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcf540>) completed
executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc575b0>) completed
executing functools.partial(<built-in method close of sqlite3.Connection object at 0x10bc575b0>)
operation functools.partial(<built-in method close of sqlite3.Connection object at 0x10bc575b0>) completed
executing <function Connection.stop.<locals>.close_and_stop at 0x10bf38f40>
operation <function Connection.stop.<locals>.close_and_stop at 0x10bf38f40> completed
---------------------------- Captured log teardown -----------------------------
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcf140>, 'PRAGMA main.table_info("posts")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcf140>, 'PRAGMA main.table_info("posts")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcf140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bfcf140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcf140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcf140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf47140>, 'PRAGMA main.table_info("followers")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf47140>, 'PRAGMA main.table_info("followers")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf47140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf47140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf47140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf47140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf6f940>, 'PRAGMA main.table_info("users")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf6f940>, 'PRAGMA main.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf6f940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x10bf6f940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf6f940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf6f940>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf6f140>, '\nDROP TABLE followers', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bf6f140>, '\nDROP TABLE followers', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf6f140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bf6f140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfce040>, '\nDROP TABLE posts', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfce040>, '\nDROP TABLE posts', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfce040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfce040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcf540>, '\nDROP TABLE users', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x10bfcf540>, '\nDROP TABLE users', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcf540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x10bfcf540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Connection object at 0x10bc575b0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Connection object at 0x10bc575b0>) completed
DEBUG    aiosqlite:core.py:62 executing <function Connection.stop.<locals>.close_and_stop at 0x10bf38f40>
DEBUG    aiosqlite:core.py:67 operation <function Connection.stop.<locals>.close_and_stop at 0x10bf38f40> completed
=========================== short test summary info ============================
FAILED tests/services/test_posts.py::test_get_user_posts - AssertionError: assert 'Post 1' == 'Post 2'
FAILED tests/test_posts.py::TestUserPosts::test_get_user_posts - AssertionError: assert ['Post 0', 'Post 2', 'Post 1'] == ['Post 2', 'Post 1...
=================== 2 failed, 27 passed, 1 warning in 17.94s ===================
